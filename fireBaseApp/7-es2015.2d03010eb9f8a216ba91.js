(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{jwQ9:function(t,e,n){"use strict";n.r(e),n.d(e,"HomeModule",(function(){return z}));var i=n("8lv1"),c=n("tyNb"),o=n("fXoL"),r=n("zees"),a=n("bTqV");let s=(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}logout(){this.authService.signOut()}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(r.a))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-header"]],decls:3,vars:0,consts:[[1,"nav"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"button",1),o.ec("click",(function(){return e.logout()})),o.Dc(2,"Logout"),o.Vb(),o.Vb())},directives:[a.a],styles:[".nav[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:10px 20px 10px 10px}"]}),t})(),u=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(t,e){1&t&&(o.Rb(0,"app-header"),o.Rb(1,"router-outlet"))},directives:[s,c.e],styles:[""]}),t})();var l=n("mrSG"),d=n("I/3d");let b=(()=>{class t{constructor(t){this.firestore=t}get(){return this.firestore.collection("/users").valueChanges()}getById(t){return this.firestore.collection("/users").doc(t).valueChanges()}delete(t){return this.firestore.collection("/users").doc(t).delete()}update(t){return this.firestore.collection("/users").doc(t.uid).update(t)}}return t.\u0275fac=function(e){return new(e||t)(o.ac(d.a))},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=n("kmnG"),m=n("qFsG"),f=n("3Pt+");let h=(()=>{class t{constructor(t,e,n){this.usersService=t,this.router=e,this.route=n,this.user={uid:null,email:null,roles:null}}ngOnInit(){this.usersService.getById(this.route.snapshot.params.id).subscribe(t=>{this.user=t})}update(){return Object(l.b)(this,void 0,void 0,(function*(){yield this.usersService.update(this.user),this.router.navigate(["/users"])}))}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(b),o.Qb(c.b),o.Qb(c.a))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-details"]],decls:14,vars:2,consts:[[1,"wrapper"],["matInput","","placeholder","Id","readonly","",3,"value"],["matInput","","placeholder","Email","readonly","",3,"ngModel","ngModelChange"],[1,"buttons"],["mat-raised-button","","color","accent","routerLink","/users"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"mat-form-field"),o.Wb(2,"mat-label"),o.Dc(3,"Id"),o.Vb(),o.Rb(4,"input",1),o.Vb(),o.Wb(5,"mat-form-field"),o.Wb(6,"mat-label"),o.Dc(7,"Email"),o.Vb(),o.Wb(8,"input",2),o.ec("ngModelChange",(function(t){return e.user.email=t})),o.Vb(),o.Vb(),o.Wb(9,"div",3),o.Wb(10,"button",4),o.Dc(11,"Back to list"),o.Vb(),o.Wb(12,"button",5),o.ec("click",(function(){return e.update()})),o.Dc(13,"Update"),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Db(4),o.nc("value",e.user.uid),o.Db(4),o.nc("ngModel",e.user.email))},directives:[p.c,p.f,m.b,f.b,f.j,f.m,a.a,c.c],styles:[".wrapper[_ngcontent-%COMP%]{padding-top:20px;width:30%;margin:0 auto;display:flex;justify-content:center;flex-direction:column}@media screen and (max-width:425px){.wrapper[_ngcontent-%COMP%]{width:90%}}.buttons[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();var g=n("M9IT"),D=n("+0xr"),v=n("XNiG"),w=n("1G5W"),C=n("ofXK");function y(t,e){1&t&&(o.Wb(0,"th",11),o.Dc(1," ID "),o.Vb())}function V(t,e){if(1&t&&(o.Wb(0,"td",12),o.Dc(1),o.Vb()),2&t){const t=e.$implicit;o.Db(1),o.Fc(" ",t.uid," ")}}function W(t,e){1&t&&(o.Wb(0,"th",11),o.Dc(1," Email "),o.Vb())}function x(t,e){if(1&t&&(o.Wb(0,"td",12),o.Dc(1),o.Vb()),2&t){const t=e.$implicit;o.Db(1),o.Fc(" ",t.email," ")}}function I(t,e){1&t&&(o.Wb(0,"th",11),o.Dc(1," Role "),o.Vb())}function O(t,e){1&t&&(o.Wb(0,"span"),o.Dc(1,"Admin"),o.Vb())}function M(t,e){1&t&&(o.Wb(0,"span"),o.Dc(1,"User"),o.Vb())}function S(t,e){if(1&t&&(o.Wb(0,"td",12),o.Cc(1,O,2,0,"span",13),o.Cc(2,M,2,0,"span",13),o.Vb()),2&t){const t=e.$implicit;o.Db(1),o.nc("ngIf",t.roles.admin),o.Db(1),o.nc("ngIf",!t.roles.admin)}}function k(t,e){1&t&&(o.Wb(0,"th",11),o.Dc(1,"Actions"),o.Vb())}function P(t,e){if(1&t&&(o.Wb(0,"button",16),o.Dc(1,"Edit"),o.Vb()),2&t){const t=o.ic().$implicit;o.oc("routerLink","/users/",t.uid,"")}}function R(t,e){if(1&t){const t=o.Xb();o.Wb(0,"button",17),o.ec("click",(function(){o.vc(t);const e=o.ic().$implicit;return o.ic().delete(e.uid)})),o.Dc(1,"Delete"),o.Vb()}}function _(t,e){1&t&&(o.Wb(0,"span"),o.Dc(1,"Don't have available actions"),o.Vb())}function j(t,e){if(1&t&&(o.Wb(0,"td",12),o.Cc(1,P,2,1,"button",14),o.Cc(2,R,2,0,"button",15),o.Cc(3,_,2,0,"span",13),o.Vb()),2&t){const t=o.ic();o.Db(1),o.nc("ngIf",t.isAdmin),o.Db(1),o.nc("ngIf",t.isAdmin),o.Db(1),o.nc("ngIf",!t.isAdmin)}}function A(t,e){1&t&&o.Rb(0,"tr",18)}function Q(t,e){1&t&&o.Rb(0,"tr",19)}const L=function(){return[5,10,20]},T=[{path:"",redirectTo:"users",pathMatch:"full"},{path:"",component:u,children:[{path:"users",component:(()=>{class t{constructor(t,e){this.usersService=t,this.authService=e,this.componentDestroyer=new v.a,this.displayedColumns=["uid","email","role","actions"],this.dataSource=new D.k}ngOnInit(){this.usersService.get().pipe(Object(w.a)(this.componentDestroyer)).subscribe(t=>this.dataSource.data=t),this.isAdmin=this.authService.isAdmin()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnDestroy(){this.componentDestroyer.next(),this.componentDestroyer.complete()}delete(t){this.usersService.delete(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(b),o.Qb(r.a))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-users"]],viewQuery:function(t,e){var n;1&t&&o.Hc(g.a,!0),2&t&&o.sc(n=o.fc())&&(e.paginator=n.first)},decls:17,vars:5,consts:[[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","uid"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","role"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["mat-raised-button","","color","primary","style","margin-right: 15px;",3,"routerLink",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",2,"margin-right","15px",3,"routerLink"],["mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"table",1),o.Ub(2,2),o.Cc(3,y,2,0,"th",3),o.Cc(4,V,2,1,"td",4),o.Tb(),o.Ub(5,5),o.Cc(6,W,2,0,"th",3),o.Cc(7,x,2,1,"td",4),o.Tb(),o.Ub(8,6),o.Cc(9,I,2,0,"th",3),o.Cc(10,S,3,2,"td",4),o.Tb(),o.Ub(11,7),o.Cc(12,k,2,0,"th",3),o.Cc(13,j,4,3,"td",4),o.Tb(),o.Cc(14,A,1,0,"tr",8),o.Cc(15,Q,1,0,"tr",9),o.Vb(),o.Rb(16,"mat-paginator",10),o.Vb()),2&t&&(o.Db(1),o.nc("dataSource",e.dataSource),o.Db(13),o.nc("matHeaderRowDef",e.displayedColumns),o.Db(1),o.nc("matRowDefColumns",e.displayedColumns),o.Db(1),o.nc("pageSizeOptions",o.pc(4,L)))},directives:[D.j,D.c,D.e,D.b,D.g,D.i,g.a,D.d,D.a,C.k,a.a,c.c,D.f,D.h],styles:["table[_ngcontent-%COMP%]{width:100%}@media screen and (max-width:425px){td[_ngcontent-%COMP%]{font-size:10px}button[_ngcontent-%COMP%]{min-width:55px;padding:0 8px}td.mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:3px}td.mat-cell[_ngcontent-%COMP%]:last-of-type{padding-right:3px}}"]}),t})()},{path:"users/:id",component:h}]}];let U=(()=>{class t{}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[c.d.forChild(T)],c.d]}),t})(),z=(()=>{class t{}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[U,i.a]]}),t})()}}]);